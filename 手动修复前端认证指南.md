# 手动修复前端认证指南

## 问题描述
访问 `http://localhost:3000/admin/merchants` 时返回403 Forbidden错误，这是因为前端没有正确的管理员认证token。

## 修复步骤

### 1. 确保后端服务器运行
```bash
cd ttkh-tourism-system
node backend/simple-server.js
```
后端应该在 http://localhost:3001 运行

### 2. 确保前端服务器运行
```bash
cd ttkh-tourism-system/frontend
npm start
```
前端应该在 http://localhost:3000 运行

### 3. 在浏览器中设置认证信息

1. 打开Chrome浏览器
2. 访问 `http://localhost:3000`
3. 按F12打开开发者工具
4. 切换到Console（控制台）标签
5. 复制粘贴以下命令并按回车：

```javascript
localStorage.setItem('token', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIwNDYxZGY1NC0zODQ2LTRmN2EtYmUyNC0yNjJmY2JlNGQzMGQiLCJpYXQiOjE3NTQ4OTQ3OTYsImV4cCI6MTc1NDk4MTE5Nn0.Ioi01mcqPIGQpfNvu_p82vU9c4mAJCNlEgmmoSu-4vM');
```

6. 再复制粘贴以下命令并按回车：

```javascript
localStorage.setItem('user', '{"id":"0461df54-3846-4f7a-be24-262fcbe4d30d","username":"admin@ttkh.com","email":"admin@ttkh.com","role":"admin","company_name":null,"contact_person":null,"phone":null,"status":"approved","created_at":"2025-08-10T17:25:28.000Z","updated_at":"2025-08-11T06:21:20.000Z"}');
```

### 4. 测试访问
1. 刷新页面（F5）
2. 访问 `http://localhost:3000/admin/merchants`
3. 现在应该能正常看到商家管理页面

## 验证成功标志
- 页面不再显示403 Forbidden错误
- 能看到商家列表数据
- 页面顶部显示管理员身份

## 如果仍有问题
请检查：
1. 后端服务器是否正常运行在3001端口
2. 前端服务器是否正常运行在3000端口
3. 浏览器控制台是否有其他错误信息

## 管理员账户信息
- 邮箱: admin@ttkh.com
- 密码: admin123
- 角色: admin