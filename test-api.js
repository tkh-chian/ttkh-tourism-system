const axios = require('axios');

const baseURL = 'http://localhost:3001';
let authToken = '';

console.log('üß™ ÂºÄÂßãAPIÂäüËÉΩÊµãËØï...\n');

// ÊµãËØïÁî®‰æã
const tests = [
  {
    name: '1. ÂïÜÂÆ∂Ê≥®ÂÜåÊµãËØï',
    test: async () => {
      const response = await axios.post(`${baseURL}/api/auth/register`, {
        username: 'Êñ∞ÊµãËØïÂïÜÂÆ∂',
        email: 'new-merchant@test.com',
        password: '123456',
        role: 'merchant',
        company_name: 'Êñ∞ÊµãËØïÊóÖË°åÁ§æ',
        contact_person: 'ÊùéÁªèÁêÜ'
      });
      console.log('   Ê≥®ÂÜåÂìçÂ∫î:', response.data.message);
      return response.data.success;
    }
  },
  {
    name: '2. ÂïÜÂÆ∂ÁôªÂΩïÊµãËØï',
    test: async () => {
      const response = await axios.post(`${baseURL}/api/auth/login`, {
        email: 'merchant@test.com',
        password: '123456'
      });
      if (response.data.success) {
        authToken = response.data.data.token;
        console.log('   ÁôªÂΩïÊàêÂäüÔºåËé∑Âæó‰ª§Áâå');
      }
      return response.data.success;
    }
  },
  {
    name: '3. ÂàõÂª∫‰∫ßÂìÅÊµãËØï',
    test: async () => {
      const response = await axios.post(`${baseURL}/api/products`, {
        title_zh: 'ÊàêÈÉΩ‰πùÂØ®Ê≤üË±™Âçé5Êó•Ê∏∏',
        title_th: '‡∏ó‡∏±‡∏ß‡∏£‡πå‡πÄ‡∏â‡∏¥‡∏á‡∏ï‡∏π-‡∏à‡∏¥‡πà‡∏ß‡∏à‡πâ‡∏≤‡∏¢‡πÇ‡∏Å‡∏ß 5 ‡∏ß‡∏±‡∏ô',
        description_zh: 'Êé¢Á¥¢ÂõõÂ∑ùÁæéÊôØÔºå‰ΩìÈ™åËóèÊóèÊñáÂåñ',
        description_th: '‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏á‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏™‡∏â‡∏ß‡∏ô ‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏ß‡∏±‡∏í‡∏ô‡∏ò‡∏£‡∏£‡∏°‡∏ó‡∏¥‡πÄ‡∏ö‡∏ï',
        base_price: 2999,
        poster_image: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAABAAEDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAv/xAAUEAEAAAAAAAAAAAAAAAAAAAAA/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAX/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwCdABmX/9k=',
        pdf_file: 'data:application/pdf;base64,JVBERi0xLjQKJcOkw7zDtsO8w6HCuMOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bCqcOgw7bC