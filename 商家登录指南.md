# 🏪 商家账号登录指南

## 📋 商家账号信息
- **邮箱**: testmerchant@test.com
- **密码**: merchant123
- **角色**: merchant (商家)
- **公司名称**: 测试旅游公司

## 🔑 登录步骤

### 方法1：前端页面登录
1. 访问 http://localhost:3000
2. 点击右上角"登录"按钮
3. 输入邮箱：`testmerchant@test.com`
4. 输入密码：`merchant123`
5. 点击"登录"按钮
6. 登录成功后会跳转到商家仪表板

### 方法2：直接访问商家仪表板
1. 先登录：http://localhost:3000/login
2. 登录成功后访问：http://localhost:3000/merchant/dashboard

## 🛠️ 商家功能测试

### 1. 创建产品
1. 在商家仪表板点击"产品管理"
2. 点击"创建新产品"
3. 填写产品信息：
   - 产品名称：普吉岛一日游
   - 描述：包含海滩游览、午餐、接送服务
   - 价格：1500 THB
   - 分类：一日游
   - 地点：普吉岛
   - 时长：8小时
   - 最大参与人数：20
4. 点击"创建产品"
5. **验证**：产品应自动生成产品编号（PRD-时间戳格式）

### 2. 管理产品
1. 在产品列表中查看已创建的产品
2. 可以编辑、删除产品
3. 查看产品状态（pending/approved/rejected）

### 3. 查看订单
1. 点击"订单管理"
2. 查看客户订单
3. 处理订单状态

## 🚨 如果登录失败

### 检查1：确认服务运行
```bash
# 检查后端服务
curl http://localhost:3001/api/products

# 检查前端服务
访问 http://localhost:3000
```

### 检查2：重置商家账号
如果登录仍然失败，运行以下命令重置账号：

```bash
cd ttkh-tourism-system
node -e "
const axios = require('axios');
axios.post('http://localhost:3001/api/auth/register', {
  username: 'testmerchant',
  email: 'testmerchant@test.com', 
  password: 'merchant123',
  role: 'merchant',
  company_name: '测试旅游公司'
}).then(() => console.log('商家账号重置成功'))
.catch(e => console.log('账号已存在或重置完成'));
"
```

### 检查3：清除浏览器缓存
1. 按 F12 打开开发者工具
2. 右键刷新按钮，选择"清空缓存并硬性重新加载"
3. 或者使用无痕模式访问

## 📱 测试完整流程

1. **商家登录** ✅
2. **创建产品** → 自动生成产品编号
3. **等待管理员审核** → 使用 testadmin@test.com / admin123 登录审核
4. **产品上线** → 首页显示产品
5. **用户下单** → 使用 testuser@test.com / user123 登录下单

## 🎯 成功标志
- 登录后看到商家仪表板
- 能够创建产品
- 产品自动生成编号（PRD-开头）
- 产品状态显示为"pending"（待审核）

---

**立即开始**: 访问 http://localhost:3000/login 使用商家账号登录！