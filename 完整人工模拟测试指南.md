# 🎯 完整人工模拟测试指南

## 📋 测试环境状态
- ✅ 前端服务: http://localhost:3000 (正在运行)
- ✅ 后端服务: http://localhost:3001/api (正在运行)
- ✅ 数据库: MySQL连接正常
- ✅ 测试用户: 已创建完成

## 👥 测试账号信息

### 管理员账号
- **邮箱**: testadmin@test.com
- **密码**: admin123
- **角色**: admin
- **用途**: 审核产品、管理系统

### 商家账号
- **邮箱**: testmerchant@test.com
- **密码**: merchant123
- **角色**: merchant
- **用途**: 上传产品、管理产品

### 普通用户账号
- **邮箱**: testuser@test.com
- **密码**: user123
- **角色**: customer
- **用途**: 浏览产品、下单购买

## 🔄 完整测试流程

### 第1步：商家上传产品
1. 访问 http://localhost:3000
2. 点击"登录"按钮
3. 使用商家账号登录：testmerchant@test.com / merchant123
4. 登录成功后，进入商家仪表板
5. 点击"创建产品"或"产品管理"
6. 填写产品信息：
   - **产品名称**: 普吉岛一日游
   - **描述**: 包含海滩游览、午餐、接送服务
   - **价格**: 1500 THB
   - **分类**: 一日游
   - **地点**: 普吉岛
   - **时长**: 8小时
   - **最大参与人数**: 20
7. 上传产品图片（可选）
8. 点击"创建产品"
9. **验证**: 产品应该自动生成产品编号（PRD-时间戳格式）
10. **验证**: 产品状态应为"pending"（待审核）

### 第2步：管理员审核产品
1. 退出当前账号
2. 使用管理员账号登录：testadmin@test.com / admin123
3. 进入管理员仪表板
4. 点击"产品管理"或"待审核产品"
5. 找到刚才创建的产品
6. **验证**: 产品编号显示正确
7. **验证**: 产品状态为"pending"
8. 点击"审核通过"或"批准"
9. **验证**: 产品状态变更为"approved"

### 第3步：首页展示产品
1. 退出管理员账号
2. 访问首页 http://localhost:3000
3. **验证**: 首页应显示已审核通过的产品
4. **验证**: 产品信息完整显示（名称、价格、图片等）
5. **验证**: 产品编号正确显示
6. 点击产品查看详情页面
7. **验证**: 产品详情页面信息完整

### 第4步：用户提交订单
1. 使用普通用户账号登录：testuser@test.com / user123
2. 在首页或产品详情页选择产品
3. 点击"立即预订"或"下单"
4. 填写订单信息：
   - **选择日期**: 2024-12-25
   - **参与人数**: 2
   - **联系人姓名**: 张三
   - **联系电话**: 0123456789
   - **邮箱**: zhangsan@test.com
5. 点击"提交订单"
6. **验证**: 订单应该自动生成订单编号（TTK+时间戳+随机字符格式）
7. **验证**: 订单状态为"pending"
8. **验证**: 订单信息完整保存

### 第5步：路由和API接口验证
1. 在浏览器开发者工具中查看网络请求
2. **验证API接口**：
   - GET /api/products - 获取产品列表
   - POST /api/auth/login - 用户登录
   - POST /api/products - 创建产品
   - PUT /api/admin/products/:id - 审核产品
   - POST /api/orders - 创建订单
3. **验证路由跳转**：
   - 登录后正确跳转到对应角色仪表板
   - 产品详情页路由正确
   - 订单确认页路由正确

## ✅ 验证要点

### 产品编号验证
- 格式：PRD-{时间戳}
- 示例：PRD-1704441600000
- 每个产品都有唯一编号

### 订单编号验证
- 格式：TTK{时间戳}{随机字符}
- 示例：TTK1704441600000ABC
- 每个订单都有唯一编号

### 功能完整性验证
- ✅ 用户注册登录系统
- ✅ 角色权限控制
- ✅ 商家产品管理
- ✅ 管理员审核系统
- ✅ 产品展示系统
- ✅ 订单提交系统
- ✅ 数据互通验证

## 🚨 常见问题解决

### 登录失败
- 确认邮箱和密码正确
- 检查账号状态是否为"approved"
- 清除浏览器缓存重试

### 产品创建失败
- 确认商家账号已登录
- 检查必填字段是否完整
- 验证图片上传格式

### 审核功能异常
- 确认管理员权限
- 检查产品状态
- 刷新页面重试

### 订单提交失败
- 确认用户已登录
- 检查产品是否已审核通过
- 验证订单信息完整性

## 📊 测试结果记录

请在测试过程中记录以下信息：

### 商家上传产品
- [ ] 产品创建成功
- [ ] 产品编号生成正确
- [ ] 产品状态为pending
- [ ] 产品信息保存完整

### 管理员审核
- [ ] 能看到待审核产品
- [ ] 审核功能正常
- [ ] 状态更新成功
- [ ] 审核记录保存

### 首页展示
- [ ] 已审核产品正确显示
- [ ] 产品信息完整
- [ ] 产品编号显示
- [ ] 详情页跳转正常

### 用户下单
- [ ] 订单创建成功
- [ ] 订单编号生成正确
- [ ] 订单信息保存完整
- [ ] 订单状态正确

### API接口互通
- [ ] 所有API响应正常
- [ ] 数据传输完整
- [ ] 错误处理正确
- [ ] 权限验证有效

## 🎉 测试完成标准

当以上所有验证点都通过时，系统测试完成，确认：
1. ✅ 商家上传产品功能正常
2. ✅ 管理员审核产品功能正常
3. ✅ 首页展示产品功能正常
4. ✅ 用户提交订单功能正常
5. ✅ 产品编号和订单编号生成正常
6. ✅ 所有路由和API接口数据互通正常

---

**开始测试**: 请访问 http://localhost:3000 开始人工验证！