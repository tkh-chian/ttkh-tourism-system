
# TTKH旅游系统 - 人工测试指南

## 🎯 测试环境信息
- 前端地址: http://localhost:3000
- 后端地址: http://localhost:3001
- 数据库: MySQL 8.0 (ttkh_tourism)
- 测试文件目录: C:\Users\46405\txkafa8.7\ttkh-tourism-system\downloads

## 👥 测试账户
1. **管理员账户**
   - 邮箱: admin@ttkh.com
   - 密码: admin123
   - 权限: 审核商家、审核产品、查看所有数据

2. **商家账户** (待审核状态)
   - 邮箱: merchant@ttkh.com
   - 密码: merchant123
   - 公司: 泰国旅游有限公司
   - 联系人: 张经理
   - 状态: 待审核 (需要管理员审核)

3. **代理账户**
   - 邮箱: agent@ttkh.com
   - 密码: agent123
   - 公司: 旅游代理公司
   - 联系人: 李代理
   - 状态: 已审核

4. **客户账户**
   - 邮箱: customer@ttkh.com
   - 密码: customer123
   - 状态: 已审核

## 🧪 测试流程

### 第一步: 商家注册和审核
1. 使用管理员账户登录 (admin@ttkh.com / admin123)
2. 进入"商家管理"页面
3. 查看待审核商家列表，应该看到"泰国旅游有限公司"
4. 点击"审核通过"按钮
5. 验证商家状态从"待审核"变为"已批准"

### 第二步: 商家创建产品
1. 使用商家账户登录 (merchant@ttkh.com / merchant123)
2. 进入"产品管理" -> "创建产品"
3. 填写产品信息:
   - 中文标题: 泰国曼谷3日游
   - 泰文标题: ทัวร์กรุงเทพ 3 วัน
   - 中文描述: 精彩的曼谷之旅，包含大皇宫、卧佛寺等景点
   - 基础价格: 1500
4. 上传海报图片 (从downloads目录选择test-poster.jpg)
5. 上传PDF文档 (从downloads目录选择test-document.pdf)
6. 点击"创建产品"
7. 验证产品编号自动生成 (格式: PRD-时间戳)

### 第三步: 设置价格日历
1. 在产品列表中找到刚创建的产品
2. 点击"设置价格日历"
3. 选择未来7天的日期
4. 为每个日期设置:
   - 价格: 1500-2000元
   - 库存: 10-20人
5. 保存价格日历设置

### 第四步: 管理员审核产品
1. 使用管理员账户登录
2. 进入"产品管理"页面
3. 查看待审核产品列表
4. 找到"泰国曼谷3日游"产品
5. 点击"审核通过"
6. 验证产品状态变为"已批准"

### 第五步: 验证产品展示
1. 退出登录，访问首页
2. 验证产品卡片正确显示:
   - 产品标题
   - 产品编号 (显示在标题下方)
   - 海报图片
   - 基础价格
   - "查看详情"按钮

### 第六步: 代理下单
1. 使用代理账户登录 (agent@ttkh.com / agent123)
2. 在首页点击产品"查看详情"
3. 选择出行日期 (从价格日历中选择)
4. 填写订单信息:
   - 成人数量: 2
   - 儿童数量: 1
   - 客户姓名: 测试客户
   - 客户电话: 13800138000
   - 客户邮箱: test@example.com
5. 上传扫描件 (选择downloads目录中的文件)
6. 提交订单
7. 验证订单编号自动生成 (格式: ORD-时间戳)

### 第七步: 商家订单管理
1. 使用商家账户登录
2. 进入"订单管理"页面
3. 查看新订单列表
4. 测试订单操作:
   - 查看订单详情
   - 确认订单 (状态: 待确认 -> 已确认)
   - 拒绝订单 (填写拒绝原因)
   - 完成订单 (状态: 已确认 -> 已完成)

## ✅ 验证要点
- [ ] 商家注册审核流程完整
- [ ] 产品编号唯一性 (PRD-时间戳格式)
- [ ] 订单编号唯一性 (ORD-时间戳格式)
- [ ] 文件上传功能正常 (海报、PDF、扫描件)
- [ ] 价格日历设置和显示正确
- [ ] 产品审核流程完整
- [ ] 首页产品卡片正确展示
- [ ] 订单创建和管理功能完整
- [ ] 所有用户角色权限正确

## 🚨 注意事项
- 确保前后端服务都在运行
- 测试文件位于指定目录
- 按照流程顺序进行测试
- 每个步骤都要验证结果
